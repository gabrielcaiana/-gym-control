{% extends 'layout.njk' %}

{% block content %}
   <div class="card">
      <section class="avatar" style="background: url({{ Member.avatar_url }}) no-repeat center center; background-size: cover;  "></section>
      <section class="details">
         <form method="POST" action="/members?_method=PUT">
            <h3>Editar Membro</h3>
            {% include 'members/fields.njk' %}

            <input 
            type="hidden"
            name="id"
            value="{{Member.id}}">
         </form>

         <form id="form-delete" method="POST" action="/members?_method=DELETE">
            <input type="hidden" name="id" value="{{Member.id}}">
            <button type="submit">Deletar</button>
         </form>  
      </section>
   </div>

 <script>
   document.querySelector("#form-delete").addEventListener("submit", event => {
    const confirmation = confirm("Deseja Deletar?")
    if(!confirmation) event.preventDefault()
})
</script>
{% endblock content %}